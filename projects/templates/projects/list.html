

{% extends "core/base.html" %}
{% load static %}

{% block title %}
  {% if lang == "en" %}
    Our Projects
  {% else %}
    پروژه‌های ما
  {% endif %}
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
  <h1 class="text-2xl font-bold mb-6 text-center">
    {% if lang == "en" %}
      Our Projects
    {% else %}
      پروژه‌های ما
    {% endif %}
  </h1>

  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
    {% for project in projects %}
      <a href="{% url 'projects:detail' pk=project.pk %}" class="block border rounded shadow hover:shadow-md transition duration-300 bg-white overflow-hidden">
        <div class="w-full h-48 bg-gray-100 flex items-center justify-center">
          {% if project.image %}
            <img src="{{ project.image.url }}" alt="Project Image" class="w-full h-full object-cover">
          {% else %}
            <img src="{% static 'img/default_post.jpg' %}" alt="Default Project Image" class="w-full h-full object-cover">
          {% endif %}
        </div>
        <div class="p-4">
          <h2 class="text-lg font-semibold">
            {% if lang == "en" %}
              {{ project.title_en }}
            {% else %}
              {{ project.title_fa }}
            {% endif %}
          </h2>
          <p class="text-sm text-gray-600 mt-2">
            {% if lang == "en" %}
              {{ project.description_en|truncatechars:100 }}
            {% else %}
              {{ project.description_fa|truncatechars:100 }}
            {% endif %}
          </p>
        </div>
      </a>
    {% endfor %}
  </div>
</div>
{% endblock %}